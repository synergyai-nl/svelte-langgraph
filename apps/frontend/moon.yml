$schema: 'https://moonrepo.dev/schemas/project.json'

language: typescript
stack: frontend
type: application

tags: ['vite', 'vitest', 'sveltekit']

tasks:
  lint:
    command: eslint .
    inputs:
      # Source and test files
      - 'src/**/*'
      - 'tests/**/*'
      - 'e2e/**/*'
      # Other config files
      - '*.config.*'
      # Project configs, any format, any depth
      - '**/eslint.config.js'
      # Root configs, any format
      # - '/eslint.config.js'

  lint-fix:
    extends: lint
    args:
      - '--cache'
      - '--fix'
    local: true

  prettier:
    command: prettier .
    options:
      internal: true
    inputs:
      # Source and test files
      - 'src/**/*'
      - 'tests/**/*'
      - 'e2e/**/*'
      # Config and other files
      - '**/*.{md,mdx,yml,yaml,json}'
      - '.prettierignore'
      - '.prettierrc'
      # Root configs, any format
      # - '/.prettierignore'
      # - '/.prettierrc'
  format:
    extends: prettier
    args:
      - '--check'

  format-write:
    extends: prettier
    args:
      - '--cache'
      - '--write'
    local: true

  test-e2e:
    command: playwright test
